; ============================================================================
; SDC - PHP-FPM para Desenvolvimento
; Configurado para debugging e reload rápido
; ============================================================================

[www]
user = www-data
group = www-data

listen = 9000
listen.owner = www-data
listen.group = www-data
listen.mode = 0660

; Process Manager - ondemand para desenvolvimento (usa menos memória)
pm = ondemand
pm.max_children = 10
pm.process_idle_timeout = 30s
pm.max_requests = 500

; Status page para debugging
pm.status_path = /fpm-status
ping.path = /fpm-ping
ping.response = pong

; Slow log para identificar bottlenecks
request_slowlog_timeout = 10s
slowlog = /var/log/php/slow.log

; Timeout generoso para debugging
request_terminate_timeout = 300s

; Catch output para ver var_dump, etc
catch_workers_output = yes
decorate_workers_output = no

; Clear env para ver variáveis de ambiente
clear_env = no

; Logs de acesso
access.log = /var/log/php/access.log
access.format = "%R - %u %t \"%m %r%Q%q\" %s %f %{mili}d %{kilo}M %C%%"

